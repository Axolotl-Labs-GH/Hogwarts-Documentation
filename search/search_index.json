{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":"<p>Not Complete Documentation</p> <p>This site provides documentation into the configuration and setup of my home lab called \"Hogwarts\" it is free to browse for ideas and to see how I have configured the network as a whole but I don't recommend using it as a single source of truth for any of the hardware, software or services that I have used</p>"},{"location":"#welcome-to-hogwarts-documentation","title":"Welcome to Hogwarts Documentation","text":"<p>The Hogwarts Network is the name of my Home Lab, it consists of several servers, routers, other network devices and services and is designed as an always on system with the \"aim\" of a 99% UpTime thanks to clustering and redundancy.</p> <p>The network is completely Opensource and any services used to host, manage or configure it are fully hosted within, except for this documentation for added resiliency and disaster recovery.</p>"},{"location":"network/","title":"Network","text":""},{"location":"network/#network-overview","title":"Network Overview","text":"<p>The network consists of 3 main parts, router, switch and then endpoints being 2 planned to expand to 3 Lenovo ThinkCentre Micro PC's acting as Servers.</p> <p>The network uses the following software and services:</p> <ul> <li>OpenWRT</li> <li>TechnitiumDNS</li> </ul>"},{"location":"network/#network-addressing","title":"Network Addressing","text":"<p>The Network uses a complete /24 address divided into individual /28 subnets providing 14 useable hosts per subnet and 16 individual subnets</p>"},{"location":"network/#hogwarts-network-individual-subnets","title":"Hogwarts Network Individual Subnets","text":"1 - 192.168.1.0/282 - 192.168.1.16/283 - 192.168.1.32/284 - 192.168.1.48/285 - 192.168.1.64/286 - 192.168.1.80/287 - 192.168.1.96/288 - 192.168.1.112/28 <ul> <li>{Subnet Allocated Use}</li> <li>{Network address}</li> <li>{First Usable Address}</li> <li>{Last Usable Address}</li> </ul> <ul> <li>{Subnet Allocated Use}</li> <li>{Network address}</li> <li>{First Usable Address}</li> <li>{Last Usable Address}</li> </ul> <ul> <li>{Subnet Allocated Use}</li> <li>{Network address}</li> <li>{First Usable Address}</li> <li>{Last Usable Address}</li> </ul> <ul> <li>{Subnet Allocated Use}</li> <li>{Network address}</li> <li>{First Usable Address}</li> <li>{Last Usable Address}</li> </ul> <ul> <li>{Subnet Allocated Use}</li> <li>{Network address}</li> <li>{First Usable Address}</li> <li>{Last Usable Address}</li> </ul> <ul> <li>{Subnet Allocated Use}</li> <li>{Network address}</li> <li>{First Usable Address}</li> <li>{Last Usable Address}</li> </ul> <ul> <li>{Subnet Allocated Use}</li> <li>{Network address}</li> <li>{First Usable Address}</li> <li>{Last Usable Address}</li> </ul> <ul> <li>{Subnet Allocated Use}</li> <li>{Network address}</li> <li>{First Usable Address}</li> <li>{Last Usable Address}</li> </ul>"},{"location":"network/#network-topology","title":"Network Topology","text":"<pre><code>graph LR\n  A[ISP Connection] --&gt; |g/e-0| B[rte-1];\n  B ---&gt; |g/e-4| C[rte-1 - Axolotl Network];\n  B --&gt; |g/e-1| D[sw-1];\n  D --&gt; E[srv-lo-1];\n  D --&gt; F[srv-lo-2];\n  D --&gt; G[srv-pi-1];\n  D --&gt; H[srv-pi-2];</code></pre>"},{"location":"network/#device-pages","title":"Device Pages","text":"<ul> <li>Hogwarts Primary Router</li> </ul>"},{"location":"server-rack/","title":"Server Rack","text":"Front ViewLeft ViewRear ViewRight View Measurement Value Mounting Width 10\" U Count 26 <pre><code>graph TD\n  A[Start] --&gt; B{Error?};\n  B --&gt;|Yes| C[Hmm...];\n  C --&gt; D[Debug];\n  D --&gt; B;\n  B ----&gt;|No| E[Yay!];</code></pre>"},{"location":"hardware/","title":"Home","text":""},{"location":"hardware/Networking/rte-1/","title":"rte-1 - Router 1","text":"Front ViewRear View"},{"location":"hardware/Networking/rte-1/#hardware-specs","title":"Hardware Specs","text":"<p>Device Model: Asus RT-AC85P</p>"},{"location":"hardware/Networking/rte-1/#network-interfaces","title":"Network Interfaces","text":"<ul> <li>g/e-0</li> <li>g/e-1</li> <li>g/e-2</li> <li>g/e-3</li> <li>g/e-4</li> </ul>"},{"location":"hardware/Networking/rte-1/#power","title":"Power","text":"<ul> <li>AC Input : 110V~240V(50~60Hz)</li> <li>DC Output : 12 V with max. 2.5 A current</li> </ul>"},{"location":"hardware/Networking/rte-1/#config","title":"Config","text":"<p>Role - Primary Router</p>"},{"location":"hardware/Networking/rte-1/#interfaces","title":"Interfaces","text":"Interface Description Speed Addressing g/e-0 Link from ISP 1 Gigabit WAN IP g/e-1 Uplink to sw-1 1 Gigabit 192.168.1.1/28 g/e-2 Disabled 1 Gigabit N/A g/e-3 Disabled 1 Gigabit N/A g/e-4 Uplink to rte-1 (Axolotl Net) 1 Gigabit 192.168.200.1/30"},{"location":"hardware/Networking/rte-1/#power_1","title":"Power","text":"<p>12v DC Cable</p>"},{"location":"hardware/Servers/srv-lo-1/","title":"srv-lo-1 - Local Server 1","text":"Front ViewRear View"},{"location":"hardware/Servers/srv-lo-2/","title":"srv-lo-2 - Local Server 2","text":"Front ViewRear View"},{"location":"hardware/Servers/srv-pi-1/","title":"srv-pi-1 - Pi Server 1","text":""},{"location":"hardware/Servers/srv-pi-2/","title":"srv-pi-2 - Pi Server 2","text":""},{"location":"incidents/","title":"Home","text":"Date Overview Full Report 30/05/2025 Loss of full network services after rebooting both Proxmox Nodes Link"},{"location":"incidents/Reports/30-05-2025/","title":"30th May 2025","text":""},{"location":"incidents/Reports/30-05-2025/#overview","title":"Overview","text":"<p>On the 30th May 2025 when organising network elements physically in preparation of mounting into a network rack including the primary Proxmox Nodes a failure occurred resulting in neither node appearing to return back online and with only inbound traffic activity present.</p> <p>Initial review showed what appeared to be both nodes powering on with inbound network indicators showing activity.</p>"},{"location":"incidents/Reports/30-05-2025/#troubleshooting","title":"Troubleshooting","text":"<p>Initial issues appeared to show the devices not actually booting up correctly or not connecting to the network</p> <p>srv-lo-1 was connected to a monitor to observe the terminal during start-up where errors could be seen relating to the mounting of NFS file shares on a separate NAS, other than these errors the device appeared to boot as expected</p> <p><code>ip -a</code> was run on the terminal which showed all interfaces as UP and in what appeared to be an operational state, vmbr0 a bridge adapter and the one assigned the static IPv4 address for the host itself however was only showing inet6 for IPv6 and not inet for IPv4</p> <p>This made me wonder of the IPv4 config had been lost, having checked /etc/network/interfaces nothing appeared to be incorrect and the required configuration of the below was present:</p> IP Address Default Gateway Subnet Mask 192.168.1.20 192.168.1.1 255.255.255.0 <p>Performing a simple ping test to 8.8.8.8 also provided no luck cementing this did appear to be a network of sorts issue but in what appeared to be as a result of the bridge interface</p> <p>Then I decided to toggle all the network interfaces down/up to see if this would bring the required interface alive and although it didn't fix the issue it can me the biggest clue with the below terminal output that was received when running <code>ifdown -a</code>:</p> <pre><code>warning: cannot load \"address\" module: cannot import name 'splat' from 'jaraco.functools' (/usr/lib/python3/dist-packages/jaraco/functools.py)\n</code></pre>"},{"location":"incidents/Reports/30-05-2025/#solution","title":"Solution","text":"<p>After some research into this output it would appear to be a known issue, a suggestion of removing the referenced python package was one that had appeared to work for many, to ensure a rollback plan however I decided to rename the folder rather than remove and so issued the below command:</p> <pre><code>mv /usr/lib/python3/dist-packages/jaraco /usr/lib/python3/dist-packages/jaraco-old\n</code></pre> <p>Attempting to toggle the interfaces this time did not appear to show any errors and the output of <code>ip -a</code> showed an inet address on the bridge adapter once again, attempting to connect via the webgui also worked successfully</p> <p>A quick troubleshoot using the above steps on the other host srv-lo-2 also showed a similar story and as such the same fix was applied working immediately as well</p>"},{"location":"incidents/Reports/30-05-2025/#permanent-fix","title":"Permanent Fix","text":"<p>As this appears to have occurred on both hosts at the same time during essentially a reboot I can only assume that the package was updated prior and then caused issues during the start-up however this isn't confirmed and will need further investigation</p>"}]}